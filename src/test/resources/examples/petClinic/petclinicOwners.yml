swagger: '2.0'
info:
  title: Spring PetClinic
  description: Spring PetClinic Sample Application.
  version: '1.0'
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0
host: localhost:9966
basePath: /petclinic/api
schemes:
  - http
produces:
  - application/json
consumes:
  - application/json
tags:
  - name: failing
    description: Endpoint which always returns an error.
  - name: owner
    description: Endpoints related to pet owners.
  - name: user
    description: Endpoints related to users.
  - name: pet
    description: Endpoints related to pets.
  - name: vet
    description: Endpoints related to vets.
  - name: visit
    description: Endpoints related to vet visits.
  - name: pettypes
    description: Endpoints related to pet types.
  - name: specialty
    description: Endpoints related to vet specialties.
paths:
  /owners:
    post:
      tags:
        - owner
      summary: Adds a pet owner
      description: Records the details of a new pet owner.
      operationId: base
      responses:
        '201':
          description: The pet owner was successfully added.
          schema:
            $ref: '#/definitions/Owner'
        '400':
          description: Bad request.
          schema:
            $ref: '#/definitions/RestError'
        '500':
          description: Server error.
          schema:
            $ref: '#/definitions/RestError'
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          description: The pet owner
          required: true
          schema:
            $ref: '#/definitions/OwnerFields'
    get:
      tags:
        - owner
      summary: Lists pet owners
      description: Returns an array of pet owners.
      operationId: listOwners
      produces:
        - application/json
      parameters:
        - name: lastName
          in: query
          type: string
          description: Last name.
          required: false
      responses:
        '200':
          description: Owner details found and returned.
          schema:
            type: array
            items:
              $ref: '#/definitions/Owner'
          headers:
            ETag:
              type: string
              description: An ID for this version of the response.
        '304':
          description: Not modified.
        '500':
          description: Server error.
          schema:
            $ref: '#/definitions/RestError'
definitions:
  RestError:
    type: object
    properties:
      status:
        type: integer
        format: int32
        description: The HTTP status code.
      error:
        type: string
        description: The short error message.
      path:
        type: string
        description: The path of the URL for this request.
      timestamp:
        type: string
        format: date-time
        description: The time the error occurred.
      message:
        type: string
        description: The long error message.
      schemaValidationErrors:
        type: array
        items:
          $ref: '#/definitions/ValidationMessage'
      trace:
        type: string
        description: The stacktrace for this error.
  ValidationMessage:
    type: object
    properties:
      message:
        type: string
        description: The validation message.
  OwnerFields:
    type: object
    properties:
      firstName:
        type: string
        description: The first name of the pet owner.
      lastName:
        type: string
        description: The last name of the pet owner.
      address:
        type: string
        description: The postal address of the pet owner.
      city:
        type: string
        description: The city of the pet owner.
      telephone:
        type: string
        description: The telephone number of the pet owner.
  Owner:
    type: object
    properties:
      id:
        type: integer
        format: int32
        description: The ID of the pet owner.
      firstName:
        type: string
      lastName:
        type: string
      address:
        type: string
      city:
        type: string
      telephone:
        type: string
